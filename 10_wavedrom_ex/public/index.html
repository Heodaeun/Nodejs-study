<!DOCTYPE html>
<html>
    <head>
        <title>Temperature & WaveDrom</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body onload="WaveDrom.ProcessAll()">
    <!--script type="WaveDrom"을 timing diagram으로 출력해줌-->
        <h1 id="head">Temperature & WaveDrom </h1>
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
        <script src="http://wavedrom.com/skins/default.js" type="text/javascript"></script>
        <script src="http://wavedrom.com/wavedrom.min.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>

        <!-- WaveDrom -->
        <!-- <script type="WaveDrom" id="wavedrom">
        </script> -->
        <!-- <button id="btn" onclick=clickft()>onClick</button> -->

        <script>
            // var drom = {
            //     signal : [
            //         { name: "clk",  wave: "p......" },
            //         { name: "bus",  wave: "x.34.5x",   data: "head body tail" },
            //         { name: "wire", wave: "0.1..0." },
            //         { name: "temperature", wave: "1.." }
            //     ]
            // };            
            
            // function clickft(){
            //     console.log('clicked');
            //     // var wavedrom = document.getElementById('wavedrom');
            //     // console.log('wavedrom: ', wavedrom);
            //     console.log('wavedrom: ', drom.signal[3].wave);
            //     // $('#wavedrom').text(drom);
            //     // drom.signal[3].wave = "1....";
            //     // console.log('wavedrom2: ', drom.signal[3].wave);
            //     // $('h1').text('aa');                
            //     // $("#wavedrom").load(window.location.href + "#wavedrom");
            // }

            var socket = io.connect('http://localhost:4000'); //connect to server
            // drom.signal[3].wave = "1..."
            socket.on('sendWave', function(drom){
                console.log('senddata: ', drom);

                // $("#wavedrom").text(drom);

                // for(i=0; i<len(drom.signal); i++){
                //     if(drom.signal[i].name == input[0]){
                //         drom.signal[i].wave += input[1];
                //     }
                // }
                // drom.signal[3].wave += input;
                // console.log(drom.signal[3].wave);
                // $('#drom1').text(drom);

                // $("#wavedrom").load(window.location.href + "#wavedrom");
                // console.log(drom.signal[3]);
            });
        </script>
    </body>
    <style>
        h1, h4 {
            text-align: center;
            font-family: 'Lato', sans-serif;
        }
    </style>
</html>